<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Diseña tu Chubasquero Avanzado</title>
<style>
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(to bottom, #a0e0ff, #ffffff);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.designer-slide {
    display: flex;
    max-width: 1100px;
    width: 100%;
    background: #ffffffdd;
    border-radius: 20px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    overflow: hidden;
}

/* Vista previa: pez y chubasquero paralelos */
.fish-preview {
    flex: 2;
    background: #c0f0ff;
    display: flex;
    justify-content: space-around; /* paralelos */
    align-items: center;
    padding: 50px;
}

/* Imágenes dentro de la vista previa */
.fish-preview img {
    max-width: 300px;
    transition: all 0.4s ease;
}

/* Animación solo para el pez */
#fish {
    animation: swim 3s ease-in-out infinite alternate;
}

@keyframes swim {
    0% { transform: translateY(0px) rotate(-2deg); }
    50% { transform: translateY(-10px) rotate(2deg); }
    100% { transform: translateY(0px) rotate(-2deg); }
}

.controls {
    flex: 1;
    padding: 30px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.controls h3 {
    margin: 5px 0;
}

.colors, .sizes {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.colors button {
    width: 40px;
    height: 40px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.2s;
}

.colors button:hover {
    transform: scale(1.2);
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

.sizes select {
    padding: 5px 10px;
    font-size: 16px;
}

#saveBtn {
    padding: 10px 20px;
    background: #00aaff;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    margin-top: 10px;
    transition: background 0.3s;
}

#saveBtn:hover {
    background: #0088cc;
}
</style>
</head>
<body>

<div class="designer-slide">

    <!-- Vista previa del pez y chubasquero paralelos -->
    <div class="fish-preview">
        <img id="fish" src="pez_base.png" alt="Pez base">
        <img id="coatColor" src="chubasqueros/red.png" alt="Chubasquero">
    </div>

    <!-- Controles -->
    <div class="controls">
        <h3>Colores / Diseños</h3>
        <div class="colors">
            <button style="background:red" onclick="setDesign('red')"></button>
            <button style="background:blue" onclick="setDesign('blue')"></button>
            <button style="background:green" onclick="setDesign('green')"></button>
            <button style="background:yellow" onclick="setDesign('yellow')"></button>
            <button style="background:pink" onclick="setDesign('pink')"></button>
            <button style="background:orange" onclick="setDesign('orange')"></button>
            <button style="background:purple" onclick="setDesign('purple')"></button>

            <!-- Diseños especiales -->
            <button onclick="setDesign('diseño1')">Diseño 1</button>
            <button onclick="setDesign('diseño2')">Diseño 2</button>
            <button onclick="setDesign('diseño3')">Diseño 3</button>
            <button onclick="setDesign('diseño4')">Diseño 4</button>
        </div>

        <h3>Talla</h3>
        <div class="sizes">
            <select id="size" onchange="setSize(this.value)">
                <option value="S">S</option>
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
            </select>
        </div>

        <button id="saveBtn">Guardar diseño</button>
    </div>
</div>

<!-- Librería para exportar como imagen -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<script>
let currentColor = 'red';
let currentSize = 'S';

// Cambia el chubasquero según el color o diseño
function setDesign(name){
    document.getElementById('coatColor').src = `chubasqueros/${name}.png`;
}

// Cambia tamaño del chubasquero
function setSize(size){
    currentSize = size;
    const coatColor = document.getElementById('coatColor');
    let scale = 1;
    if(size === 'S') scale = 0.9;
    if(size === 'M') scale = 1;
    if(size === 'L') scale = 1.1;
    if(size === 'XL') scale = 1.2;
    coatColor.style.transform = `scale(${scale})`;
}

// Guardar diseño como imagen
document.getElementById('saveBtn').onclick = () => {
    html2canvas(document.querySelector('.fish-preview')).then(canvas => {
        const link = document.createElement('a');
        link.download = 'diseño_pez.png';
        link.href = canvas.toDataURL();
        link.click();
    });
};
</script>

</body>
</html>
